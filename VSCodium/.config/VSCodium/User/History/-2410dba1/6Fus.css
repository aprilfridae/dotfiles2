/**
 * @name Obsidian-Midnight
 * @description A dark, rounded discord theme synced with Matugen colors.
 * @author refact0r & Gemini
*/

/* This pulls in the colors generated by your ocean script */
@import url('file:///home/YOUR_USERNAME/.cache/matugen/discord.css');
@import url('https://refact0r.github.io/midnight-discord/build/midnight.css');

:root {
    --font: 'figtree';
    --corner-text: 'Obsidian';

    /* Status indicators */
    --online-indicator: var(--status-online);
    --dnd-indicator: var(--status-error);
    --idle-indicator: var(--accent-tertiary);
    --streaming-indicator: var(--accent-primary);

    /* Accents */
    --accent-1: var(--accent-tertiary); /* links */
    --accent-2: var(--accent-primary);  /* unread/mentions */
    --accent-3: var(--accent-primary);  /* buttons */
    --accent-4: var(--accent-bright);   /* hovered */
    --accent-5: var(--accent-dim);      /* clicked */
    --mention: var(--bg-container);
    --mention-hover: var(--bg-highest);
    /* ... keep your other variables ... */

    /* Text Colors - FORCED LIGHTER */
    --text-0: var(--text-on-accent); /* text on colored buttons */
    --text-1: var(--text-bright);    /* main headings */
    --text-2: var(--text-bright);    /* titles */
    
    /* CHANGE THESE: We use the bright variable for the body text too */
    --text-3: var(--text-bright);    /* normal chat text */
    --text-4: var(--text-bright);    /* sidebar channel names */
    --text-5: var(--text-bright);    /* timestamps and muted text */


/* ULTIMATE OVERRIDE: If Discord tries to force dark text, this stops it */
.markup_f8757d, /* Chat messages */
.name_d8bfb3,   /* Channel names */
.timestamp_f8757d { /* Dates */
    color: var(--text-bright) !important;
    opacity: 1 !important;
}

    /* Backgrounds */
    --bg-1: var(--accent-primary);     /* dark buttons clicked */
    --bg-2: var(--bg-highest);         /* dark buttons */
    --bg-3: var(--bg-lowest);          /* spacing */
    --bg-4: var(--bg-main);            /* main background */
    
    --hover: var(--bg-highest);
    --active: var(--bg-highest);
    --message-hover: var(--bg-lowest);

    /* Animations & Roundness (Keeping your Mac-style feel) */
    --spacing: 12px;
    --roundness-xl: 22px;
    --roundness-l: 20px;
    --roundness-m: 16px;
    --roundness-s: 12px;
}

/* Force fix for usernames and dates in Midnight */
.timestamp_f8757d, .name_d8bfb3 {
    color: var(--text-1) !important;
    opacity: 1 !important;
}

/* Selected chat/friend text fix */
.selected_f5eb4b, .selected_f6f816 .link_d8bfb3 {
  color: var(--text-0) !important;
  background: var(--accent-3) !important;
}

/* --- THE NUCLEAR ACCESSIBILITY FIX --- */

/* 1. Force the main chat text to be your bright Matugen color */
.messageContent_f9f2ca, 
.markup_f8757d, 
.contents_f8757d {
    color: var(--matugen-text) !important;
}

/* 2. Force channel names and headers to be visible */
.name_d8bfb3, 
.header_fd6364, 
.title_a7d73d {
    color: var(--matugen-text) !important;
    opacity: 1 !important;
}

/* 3. Force timestamps and dates to stop being black */
.timestamp_f8757d, 
.timestampVisible_f8757d,
.itemCard_f9f2ca .text-muted {
    color: var(--matugen-text) !important;
    opacity: 0.8 !important; /* Slightly dimmer but still very readable */
}

/* 4. Fix for the 'gg sans' font becoming thin/dark */
* {
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
}